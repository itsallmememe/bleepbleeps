String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)};function generateVariantOptionMapFromHtmlSelect(){$(".product-form select#id option").each(function(){$option=$(this).attr("data-option1")})}function getVariantIdFromOptions(){}function isBundle(){return $(".sammy-screamer-motion-alarm-2-pack-twins, .sammy-screamer-motion-alarm-3-pack-triplets").length>0}var productOptionValues=[];function initProductJs(){$(".product-options a").on("click",onOptionClick),$(".js-product-bg .slidesjs-navigation").on("click",selectNextPrev),loadOptionsFromHash()?(updateProductImage(productOptionValues),updateProductBackground(productOptionValues)):detectVariantOptionValuesFromHtml(),updateOptionControls(productOptionValues),updateHiddenProperties(productOptionValues)}function selectNextPrev(t){if(t.preventDefault(),$(this).attr("data-direction")=="next")var a=$(".product-options a.active").removeClass("active").next(),r=a.length?a.attr("data-value"):$(".product-options a:first-child").attr("data-value");else var e=$(".product-options a.active").removeClass("active").prev(),r=e.length?e.attr("data-value"):$(".product-options a:last-child").attr("data-value");productOptionValues=[r],updateOptionControls(productOptionValues),updateProductImage(productOptionValues),updateProductBackground(productOptionValues)}function onOptionClick(){var t=$(this),a=t.attr("data-value"),r=t.closest(".product-options").attr("data-option-number");return productOptionValues[r-1]=a.toLowerCase(),updateHiddenProperties(productOptionValues),updateOptionControls(productOptionValues),updateProductImage(productOptionValues),updateProductBackground(productOptionValues),!1}function updateProductId(t){$(".product-select").val(t)}function detectVariantOptionValuesFromHtml(){productOptionValues=[],$(".property-option-hidden").each(function(t){productOptionValues.push($(this).val())})}function loadOptionsFromHash(){if(location.href.indexOf("#")<0)return!1;var t=location.href.substr(location.href.indexOf("#")+1).split("-");return t.length!=$(".property-option-hidden").length?!1:(productOptionValues=t,!0)}function updateProductImage(t){if($.isArray(t)){if(isBundle())for(var a=0;a<t.length;a++)setBundleImage(a+1,t[a],!0);else{var r=".js-product-image-preload img";$.each(t,function(s,u){r=r+"[data-value"+(s+1)+'="'+u.toLowerCase()+'"]'});var e=$(r),o=e.attr("data-variant-id");updateProductId(o);var n=$(".variant_price_container.priceFor"+o),i=$("#product-price");i.html(n.html());var c=$(".product-images img:first");changeImage(e,c,!0)}window.location.hash="#"+t.join("-")}}function updateProductBackground(t){!$(".js-product-bg").length||!$.isArray(t)||($(".js-product-bg")[0].className=$(".js-product-bg")[0].className.replace(/\sbg-[^\s]+/g,""),$(".js-product-bg").addClass("bg-"+t[0].toLowerCase()))}function changeImage(t,a,r){t.attr("src")!=a.attr("src")&&(r=typeof r!="undefined"?r:!0,r?a.finish().fadeTo(100,.8,function(){a.attr("src",t.attr("src")).bind("onreadystatechange load",function(){this.complete&&$(this).fadeTo(200,1)})}):a.attr("src",t.attr("src")))}function setBundleImage(t,a,r){r=typeof r!="undefined"?r:!0;var e=$('.js-product-image-preload img[data-value="'+a.toLowerCase()+'"]'),o=$(".product-images img:nth-child("+t+")");changeImage(e,o,r)}function updateHiddenProperties(t){$.each(t,function(a,r){var e=".property-option-"+(a+1);$(e).val(r.capitalizeFirstLetter())})}function updateOptionControls(t){$(".product-options").each(function(a){var r=t[a].toLowerCase();$(this).find("a").each(function(){var e=$(this),o=e.attr("data-value").toLowerCase();e.toggleClass("active",r==o)})})}$(initProductJs);
//# sourceMappingURL=/s/files/1/0271/6419/t/23/assets/product.js.map?v=73787081796923170111521011285
